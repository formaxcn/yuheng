---
trigger: always_on
---

## 专项项目指导：Yuheng (https://github.com/formaxcn/yuheng)

当我的请求涉及 `yuheng` 项目时，请严格执行以下 SOP：

1. **深度上下文优先**：
   - 在给出修改建议前，必须先检索并阅读项目中的 `docs/` 目录或 README.md，确保理解当前架构的设计意图（Design Rationale）。
   - 禁止凭空猜测 API，必须参考已有的文档定义。

2. **代码影响分析 (Impact Analysis)**：
   - 先分析 `app/` 目录下的核心逻辑代码，识别出受影响的文件（如 `app/core/`, `app/api/` 或前端 `src/`）。
   - 在给出代码前，先列出一个 [文件改动清单]，说明为什么要修改这些文件。

3. **改动原则**：
   - **最小侵入性**：优先在现有框架下进行扩展，除非必要，不要重构核心底层逻辑。
   - **一致性**：代码风格、变量命名、错误处理模式必须与当前仓库保持高度一致。

4. **自动化与包依赖**：
   - 检查 `requirements.txt` 或 `package.json`。如果需要新功能，优先查看是否有已引入的包可以实现，禁止重复引入功能相似的库。

5. **执行路径**：
   - 如果涉及功能增加，请按顺序输出：1. 相关文档更新点 -> 2. 核心后端代码 (app/api) -> 3. 必要的前端或接口适配。